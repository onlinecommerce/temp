import{j as $,k as d,ae as B,l as F,u as T,z,aq as I,ai as S,q as M,C as W,ar as j,a as l,m as p,_ as E,a5 as r,e as t,w as i,o as n,c as g,V as f,d as u}from"./index-c246b0ec.js";import{V as G}from"./VSheet-fb8da2fa.js";import{m as H,u as J,a as c,V as o}from"./VTextField-b1f74f4e.js";import{m as K,V as w,a as b}from"./VForm-d1c206a2.js";import"./index-90f975fb.js";import"./index-6fb56b9b.js";const O=$({data(){return{isLogin:!1,showPassword:!1,showPasswordC:!1,loading:!0,loginData:{userName:"nullzz",password:"12345678"},signupData:{userName:"nullzz",fullName:"null null",phoneNumber:"0987654321",location:"mekelle",contacts:"@conca",password:"12345678",passwordConfirm:"12345678"},valid:!0,userName:"",nameRules:[e=>!!e||"Username is required",e=>e&&e.length>=5||"Username must be at least 5 characters"],fullNameRules:[e=>!!e||"Fullname is required",e=>e&&e.length>=5||"Fullname must be at least 5 characters"],phoneNumberRules:[e=>!!e||"Phonenumber is required",e=>e&&e.length>=9||"Please enter a valid phone number"],select:null,checkbox:!1,rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",emailMatch:()=>"The email and password you entered don't match"}}},methods:{...d("user",["signup","login"]),...d("style",["snackingA"]),...d(["setToastData"]),async validateLogin(){const{valid:e}=await this.$refs.form.validate();e&&this.login(this.loginData)},async validateSignup(){const{valid:e}=await this.$refs.form.validate();e&&this.checkUsername()},async checkUsername(){let e=this;await B({url:"/user/check-user-name",method:"get",params:{userName:this.signupData.userName}}).then(s=>{s.data.data?(window.scrollTo(0,0),e.snackingA({type:"red-darken-2",msg:"Username already exists",show:!0})):e.signup(e.signupData)}).catch(s=>{})}},computed:{...F("user",["loggedIn","isReg"]),formWidth(){let{mobile:e}=T();return e.value?350:500}},components:{},mounted(){window.scrollTo({top:0,left:0,behavior:"smooth"})}});const Q=z()({name:"VCheckbox",inheritAttrs:!1,props:{...H(),...I(K(),["inline"])},emits:{"update:focused":e=>!0},setup(e,s){let{attrs:a,slots:m}=s;const{isFocused:h,focus:V,blur:k}=J(e),y=S(),v=M(()=>e.id||`checkbox-${y}`);return W(()=>{const[C,D]=j(a),[P,le]=c.filterProps(e),[N,oe]=w.filterProps(e);return l(c,p({class:["v-checkbox",e.class]},C,P,{id:v.value,focused:h.value,style:e.style}),{...m,default:R=>{let{id:U,messagesId:q,isDisabled:L,isReadonly:A}=R;return l(w,p(N,{id:U.value,"aria-describedby":q.value,disabled:L.value,readonly:A.value},D,{onFocus:V,onBlur:k}),m)}})}),{}}}),X={class:"mt-4 mb-24"},Y={key:0,class:"text-3xl text-center my-4 font-extrabold text-red-500"},Z={key:1,class:"text-3xl text-center my-4 font-extrabold text-red-500"},x={class:"d-flex flex-column"},_={class:"d-flex flex-column"},ee={key:2,class:"mt-10"},se={key:3,class:"mt-10"};function ae(e,s){return n(),r("div",X,[t("div",null,[e.isLogin?(n(),r("div",Y,"Login")):(n(),r("div",Z,"Register")),l(G,{width:e.formWidth,class:"mx-auto border border-red-300 shadow-lg rounded-lg p-4"},{default:i(()=>[e.isLogin?(n(),g(b,{key:0,ref:"form"},{default:i(()=>[l(o,{modelValue:e.loginData.userName,"onUpdate:modelValue":s[0]||(s[0]=a=>e.loginData.userName=a),clearable:"",counter:10,rules:e.nameRules,label:"Username",required:""},null,8,["modelValue","rules"]),l(o,{modelValue:e.loginData.password,"onUpdate:modelValue":s[1]||(s[1]=a=>e.loginData.password=a),clearable:"","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.showPassword?"text":"password",name:"login-password",label:"Password",hint:"At least 8 characters",counter:"","onClick:append":s[2]||(s[2]=a=>e.showPassword=!e.showPassword)},null,8,["modelValue","append-icon","rules","type"]),l(Q,{modelValue:e.checkbox,"onUpdate:modelValue":s[3]||(s[3]=a=>e.checkbox=a),label:"Remember me?",required:""},null,8,["modelValue"]),t("div",x,[l(f,{color:"success",loading:e.isReg,class:"mt-4",block:"",onClick:e.validateLogin},{default:i(()=>[u("Login")]),_:1},8,["loading","onClick"])])]),_:1},512)):(n(),g(b,{key:1,ref:"form"},{default:i(()=>[l(o,{modelValue:e.signupData.userName,"onUpdate:modelValue":s[4]||(s[4]=a=>e.signupData.userName=a),clearable:"",counter:10,rules:e.nameRules,label:"Username",required:""},null,8,["modelValue","rules"]),l(o,{modelValue:e.signupData.fullName,"onUpdate:modelValue":s[5]||(s[5]=a=>e.signupData.fullName=a),clearable:"",counter:10,rules:e.fullNameRules,label:"Fullname",required:""},null,8,["modelValue","rules"]),l(o,{modelValue:e.signupData.phoneNumber,"onUpdate:modelValue":s[6]||(s[6]=a=>e.signupData.phoneNumber=a),clearable:"",counter:10,rules:e.phoneNumberRules,label:"Phonenumber",required:""},null,8,["modelValue","rules"]),l(o,{modelValue:e.signupData.location,"onUpdate:modelValue":s[7]||(s[7]=a=>e.signupData.location=a),clearable:"",counter:10,label:"Location",required:""},null,8,["modelValue"]),l(o,{modelValue:e.signupData.contacts,"onUpdate:modelValue":s[8]||(s[8]=a=>e.signupData.contacts=a),clearable:"",counter:10,label:"Contact info",required:""},null,8,["modelValue"]),l(o,{modelValue:e.signupData.password,"onUpdate:modelValue":s[9]||(s[9]=a=>e.signupData.password=a),clearable:"","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.showPassword?"text":"password",name:"signup-password",label:"Password",hint:"At least 8 characters",counter:"","onClick:append":s[10]||(s[10]=a=>e.showPassword=!e.showPassword)},null,8,["modelValue","append-icon","rules","type"]),l(o,{modelValue:e.signupData.passwordConfirm,"onUpdate:modelValue":s[11]||(s[11]=a=>e.signupData.passwordConfirm=a),clearable:"","append-icon":e.showPasswordC?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.showPasswordC?"text":"password",name:"signup-passwordC",label:"Password Confirm",hint:"At least 8 characters",counter:"","onClick:append":s[12]||(s[12]=a=>e.showPasswordC=!e.showPasswordC)},null,8,["modelValue","append-icon","rules","type"]),t("div",_,[l(f,{color:"success",loading:e.isReg,class:"mt-4",block:"",onClick:e.validateSignup},{default:i(()=>[u(" Register ")]),_:1},8,["loading","onClick"])])]),_:1},512)),e.isLogin?(n(),r("div",ee,[u("Don't have an account? "),t("span",{class:"underline text-red-400 cursor-pointer",onClick:s[13]||(s[13]=a=>e.isLogin=!e.isLogin)},"Register")])):(n(),r("div",se,[u("Already have an account? "),t("span",{class:"underline text-red-400 cursor-pointer",onClick:s[14]||(s[14]=a=>e.isLogin=!e.isLogin)},"Login")]))]),_:1},8,["width"])])])}const me=E(O,[["render",ae]]);export{me as default};

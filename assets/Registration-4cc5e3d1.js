import{A as le,B as q,aO as ae,D as ne,C as te,E as $,a0 as L,aA as oe,K as se,a6 as ue,g as I,F as T,u as F,b as z,c as f,p as re,aZ as ie,R as de,M as g,e as S,h as o,a4 as ce,r as A,a_ as x,a2 as me,ae as fe,t as ve,d as k,i as be,ac as ge,a$ as O,ah as ye,b0 as G,ap as Ve,o as he,k as pe,_ as we,at as C,z as P,q as D,l as h,n as W,s as j,v as N}from"./index-7ecd0b76.js";import{V as ke}from"./VSheet-c19c547f.js";import{a as Ce,m as Pe,u as De,b as H,c as Ie,d as Se,V as y}from"./VTextField-5d036d9c.js";import"./index-92ab4844.js";import"./index-8cc9b6ec.js";const Re=le({data(){return{isLogin:!1,showPassword:!1,showPasswordC:!1,loading:!0,loginData:{userName:"nullzz",password:"12345678"},signupData:{userName:"nullzz",fullName:"null null",phoneNumber:"0987654321",location:"mekelle",contacts:"@conca",password:"12345678",passwordConfirm:"12345678"},valid:!0,userName:"",nameRules:[e=>!!e||"Username is required",e=>e&&e.length>=5||"Username must be at least 5 characters"],fullNameRules:[e=>!!e||"Fullname is required",e=>e&&e.length>=5||"Fullname must be at least 5 characters"],phoneNumberRules:[e=>!!e||"Phonenumber is required",e=>e&&e.length>=9||"Please enter a valid phone number"],select:null,checkbox:!1,rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters",emailMatch:()=>"The email and password you entered don't match"}}},methods:{...q("user",["signup","login"]),...q("style",["snackingA"]),...q(["setToastData"]),async validateLogin(){const{valid:e}=await this.$refs.form.validate();e&&this.login(this.loginData)},async validateSignup(){const{valid:e}=await this.$refs.form.validate();e&&this.checkUsername()},async checkUsername(){let e=this;await ae({url:"/user/check-user-name",method:"get",params:{userName:this.signupData.userName}}).then(l=>{l.data.data?(window.scrollTo(0,0),e.snackingA({type:"red-darken-2",msg:"Username already exists",show:!0})):e.signup(e.signupData)}).catch(l=>{})}},computed:{...ne("user",["loggedIn","isReg"]),formWidth(){let{mobile:e}=te();return e.value?350:500}},components:{},mounted(){window.scrollTo({top:0,left:0,behavior:"smooth"})}});const J=Symbol.for("vuetify:selection-control-group"),Q=$({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:L,trueIcon:L,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:oe},...se(),...ue()},"v-selection-control-group");I()({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...T(),...Q()},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const n=F(e,"modelValue"),s=z(),r=f(()=>e.id||`v-selection-control-group-${s}`),i=f(()=>e.name||r.value),u=new Set;return re(J,{modelValue:n,forceUpdate:()=>{u.forEach(t=>t())},onForceUpdate:t=>{u.add(t),ie(()=>{u.delete(t)})}}),de({[e.defaultsTarget]:{color:g(e,"color"),disabled:g(e,"disabled"),density:g(e,"density"),error:g(e,"error"),inline:g(e,"inline"),modelValue:n,multiple:f(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),name:i,falseIcon:g(e,"falseIcon"),trueIcon:g(e,"trueIcon"),readonly:g(e,"readonly"),ripple:g(e,"ripple"),type:g(e,"type"),valueComparator:g(e,"valueComparator")}}),S(()=>{var t;return o("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(t=a.default)==null?void 0:t.call(a)])}),{}}});const X=$({label:String,trueValue:null,falseValue:null,value:null,...T(),...Q()},"v-selection-control");function Ue(e){const l=be(J,void 0),{densityClasses:a}=ge(e),n=F(e,"modelValue"),s=f(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),r=f(()=>e.falseValue!==void 0?e.falseValue:!1),i=f(()=>!!e.multiple||e.multiple==null&&Array.isArray(n.value)),u=f({get(){const b=l?l.modelValue.value:n.value;return i.value?b.some(v=>e.valueComparator(v,s.value)):e.valueComparator(b,s.value)},set(b){if(e.readonly)return;const v=b?s.value:r.value;let m=v;i.value&&(m=b?[...O(n.value),v]:O(n.value).filter(p=>!e.valueComparator(p,s.value))),l?l.modelValue.value=m:n.value=m}}),{textColorClasses:t,textColorStyles:d}=ye(f(()=>u.value&&!e.error&&!e.disabled?e.color:void 0)),c=f(()=>u.value?e.trueIcon:e.falseIcon);return{group:l,densityClasses:a,trueValue:s,falseValue:r,model:u,textColorClasses:t,textColorStyles:d,icon:c}}const Ne=I()({name:"VSelectionControl",directives:{Ripple:ce},inheritAttrs:!1,props:X(),emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:a,slots:n}=l;const{group:s,densityClasses:r,icon:i,model:u,textColorClasses:t,textColorStyles:d,trueValue:c}=Ue(e),b=z(),v=f(()=>e.id||`input-${b}`),m=A(!1),p=A(!1),w=A();s==null||s.onForceUpdate(()=>{w.value&&(w.value.checked=u.value)});function R(V){m.value=!0,(!G||G&&V.target.matches(":focus-visible"))&&(p.value=!0)}function U(){m.value=!1,p.value=!1}function B(V){e.readonly&&s&&Ve(()=>s.forceUpdate()),u.value=V.target.checked}return S(()=>{var E,M;const V=n.label?n.label({label:e.label,props:{for:v.value}}):e.label,[_,ee]=x(a);return o("div",k({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":e.inline},r.value,e.class]},_,{style:e.style}),[o("div",{class:["v-selection-control__wrapper",t.value],style:d.value},[(E=n.default)==null?void 0:E.call(n),me(o("div",{class:["v-selection-control__input"]},[i.value&&o(ve,{key:"icon",icon:i.value},null),o("input",k({ref:w,checked:u.value,disabled:e.disabled,id:v.value,onBlur:U,onFocus:R,onInput:B,"aria-disabled":e.readonly,type:e.type,value:c.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},ee),null),(M=n.input)==null?void 0:M.call(n,{model:u,textColorClasses:t,textColorStyles:d,props:{onFocus:R,onBlur:U,id:v.value}})]),[[fe("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),V&&o(Ce,{for:v.value,clickable:!0},{default:()=>[V]})])}),{isFocused:m,input:w}}}),Y=$({indeterminate:Boolean,indeterminateIcon:{type:L,default:"$checkboxIndeterminate"},...X({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),K=I()({name:"VCheckboxBtn",props:Y(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{slots:a}=l;const n=F(e,"indeterminate"),s=F(e,"modelValue");function r(t){n.value&&(n.value=!1)}const i=f(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),u=f(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return S(()=>o(Ne,k(e,{modelValue:s.value,"onUpdate:modelValue":[t=>s.value=t,r],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",inline:!0,falseIcon:i.value,trueIcon:u.value,"aria-checked":e.indeterminate?"mixed":void 0}),a)),{}}}),Ae=I()({name:"VCheckbox",inheritAttrs:!1,props:{...Pe(),...he(Y(),["inline"])},emits:{"update:focused":e=>!0},setup(e,l){let{attrs:a,slots:n}=l;const{isFocused:s,focus:r,blur:i}=De(e),u=z(),t=f(()=>e.id||`checkbox-${u}`);return S(()=>{const[d,c]=x(a),[b,v]=H.filterProps(e),[m,p]=K.filterProps(e);return o(H,k({class:["v-checkbox",e.class]},d,b,{id:t.value,focused:s.value,style:e.style}),{...n,default:w=>{let{id:R,messagesId:U,isDisabled:B,isReadonly:V}=w;return o(K,k(m,{id:R.value,"aria-describedby":U.value,disabled:B.value,readonly:V.value},c,{onFocus:r,onBlur:i}),n)}})}),{}}}),Z=I()({name:"VForm",props:{...T(),...Ie()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:a,emit:n}=l;const s=Se(e),r=A();function i(t){t.preventDefault(),s.reset()}function u(t){const d=t,c=s.validate();d.then=c.then.bind(c),d.catch=c.catch.bind(c),d.finally=c.finally.bind(c),n("submit",d),d.defaultPrevented||c.then(b=>{var m;let{valid:v}=b;v&&((m=r.value)==null||m.submit())}),d.preventDefault()}return S(()=>{var t;return o("form",{ref:r,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:i,onSubmit:u},[(t=a.default)==null?void 0:t.call(a,s)])}),pe(s,r)}}),Fe={class:"mt-4 mb-24"},Be={key:0,class:"text-3xl text-center my-4 font-extrabold text-red-500"},qe={key:1,class:"text-3xl text-center my-4 font-extrabold text-red-500"},Le={class:"d-flex flex-column"},$e={class:"d-flex flex-column"},Te={key:2,class:"mt-10"},ze={key:3,class:"mt-10"};function Ee(e,l){return h(),C("div",Fe,[P("div",null,[e.isLogin?(h(),C("div",Be,"Login")):(h(),C("div",qe,"Register")),o(ke,{width:e.formWidth,class:"mx-auto border border-red-300 shadow-lg rounded-lg p-4"},{default:D(()=>[e.isLogin?(h(),W(Z,{key:0,ref:"form"},{default:D(()=>[o(y,{modelValue:e.loginData.userName,"onUpdate:modelValue":l[0]||(l[0]=a=>e.loginData.userName=a),clearable:"",counter:10,rules:e.nameRules,label:"Username",required:""},null,8,["modelValue","rules"]),o(y,{modelValue:e.loginData.password,"onUpdate:modelValue":l[1]||(l[1]=a=>e.loginData.password=a),clearable:"","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.showPassword?"text":"password",name:"login-password",label:"Password",hint:"At least 8 characters",counter:"","onClick:append":l[2]||(l[2]=a=>e.showPassword=!e.showPassword)},null,8,["modelValue","append-icon","rules","type"]),o(Ae,{modelValue:e.checkbox,"onUpdate:modelValue":l[3]||(l[3]=a=>e.checkbox=a),label:"Remember me?",required:""},null,8,["modelValue"]),P("div",Le,[o(j,k({color:"success",loading:e.isReg,class:"mt-4",block:"",onClick:e.validateLogin},e.props),{default:D(()=>[N("Login")]),_:1},16,["loading","onClick"])])]),_:1},512)):(h(),W(Z,{key:1,ref:"form"},{default:D(()=>[o(y,{modelValue:e.signupData.userName,"onUpdate:modelValue":l[4]||(l[4]=a=>e.signupData.userName=a),clearable:"",counter:10,rules:e.nameRules,label:"Username",required:""},null,8,["modelValue","rules"]),o(y,{modelValue:e.signupData.fullName,"onUpdate:modelValue":l[5]||(l[5]=a=>e.signupData.fullName=a),clearable:"",counter:10,rules:e.fullNameRules,label:"Fullname",required:""},null,8,["modelValue","rules"]),o(y,{modelValue:e.signupData.phoneNumber,"onUpdate:modelValue":l[6]||(l[6]=a=>e.signupData.phoneNumber=a),clearable:"",counter:10,rules:e.phoneNumberRules,label:"Phonenumber",required:""},null,8,["modelValue","rules"]),o(y,{modelValue:e.signupData.location,"onUpdate:modelValue":l[7]||(l[7]=a=>e.signupData.location=a),clearable:"",counter:10,label:"Location",required:""},null,8,["modelValue"]),o(y,{modelValue:e.signupData.contacts,"onUpdate:modelValue":l[8]||(l[8]=a=>e.signupData.contacts=a),clearable:"",counter:10,label:"Contact info",required:""},null,8,["modelValue"]),o(y,{modelValue:e.signupData.password,"onUpdate:modelValue":l[9]||(l[9]=a=>e.signupData.password=a),clearable:"","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.showPassword?"text":"password",name:"signup-password",label:"Password",hint:"At least 8 characters",counter:"","onClick:append":l[10]||(l[10]=a=>e.showPassword=!e.showPassword)},null,8,["modelValue","append-icon","rules","type"]),o(y,{modelValue:e.signupData.passwordConfirm,"onUpdate:modelValue":l[11]||(l[11]=a=>e.signupData.passwordConfirm=a),clearable:"","append-icon":e.showPasswordC?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.showPasswordC?"text":"password",name:"signup-passwordC",label:"Password Confirm",hint:"At least 8 characters",counter:"","onClick:append":l[12]||(l[12]=a=>e.showPasswordC=!e.showPasswordC)},null,8,["modelValue","append-icon","rules","type"]),P("div",$e,[o(j,{color:"success",loading:e.isReg,class:"mt-4",block:"",onClick:e.validateSignup},{default:D(()=>[N(" Register ")]),_:1},8,["loading","onClick"])])]),_:1},512)),e.isLogin?(h(),C("div",Te,[N("Don't have an account? "),P("span",{class:"underline text-red-400 cursor-pointer",onClick:l[13]||(l[13]=a=>e.isLogin=!e.isLogin)},"Register")])):(h(),C("div",ze,[N("Already have an account? "),P("span",{class:"underline text-red-400 cursor-pointer",onClick:l[14]||(l[14]=a=>e.isLogin=!e.isLogin)},"Login")]))]),_:1},8,["width"])])])}const He=we(Re,[["render",Ee]]);export{He as default};

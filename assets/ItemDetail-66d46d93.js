import{k as g,ak as h,l as p,u as I,_ as b,a6 as v,e as d,c as l,w as a,h as m,a7 as w,a as o,o as i,b as n,d as c,a5 as f}from"./index-355400ab.js";import{I as k}from"./ItemsOnly-c579cfe9.js";import{c as _,a as u}from"./VCard-04e0111f.js";import"./lazy-a0a282bd.js";import"./VRow-704e75c1.js";import"./index-4ce77662.js";const x={created(){this.getItemDetail(this.$route.params.id)},data(){return{warn:!1,item:{}}},methods:{...g("postItem",["getItems","emptyItems","getLoading"]),...g(["setToastData"]),async getItemDetail(e){let t=this;await h({url:"/item",method:"get",params:{_id:e}}).then(s=>{t.item=s.data.items,t.emptyItems(),this.$route.name==="ItemDetail"&&t.getItems({category:t.item.category,subCategory:t.item.subCategory,name:t.item.name,recommand:!0,itemId:t.item._id})}).catch(s=>{})},getImg(){return this.item.image?this.item.image.url:"/src/assets/faces/ad_1.png"},async deleteAd(){await h({url:"/item",method:"delete",headers:{Authorization:`Bearer ${localStorage.getItem("sheqetoken")}`},params:{itemId:this.item._id,authorization:`Bearer ${localStorage.getItem("sheqetoken")}`}}).then(e=>{e.data.status==="success"&&(router.push("/"),this.setToastData({msg:"Ad deleted successfully!",type:"success",show:!0}))}).catch(e=>{console.log(e)})},prettyPrice(e){if(String(e).length>3){let t=Math.floor(String(e).length/3);t=String(e).length%3?t:t--;let s=[];e=String(e).split("").reverse().join("");for(let r=0;r<t+1;r++){let y=String(e).slice(r*3,3*(r+1)).split("").reverse().join("");s.push(y)}return e=String(e).length%3?s.reverse().join(","):s.reverse().join(",").slice(1),e}else return e},prettyDate(e){return e.split("T")[0].split("-").reverse().join("-")}},watch:{$route(e,t){this.getItemDetail(this.$route.params.id)}},computed:{...p("postItem",["items","by"]),...p("user",["loggedInUser"]),mobileSize(){let{mobile:e}=I();return e.value}},components:{ItemsOnly:k}},S={key:0,class:"bg-slate-100"},B={class:"grid sm:grid-cols-3 md:grid-cols-2 mx-auto gap-1 gap-x-3"},D={class:"border-r-2 p-2 px-10 border-slate-200"},V={class:"p-2"},C={class:"mt-5"},$=d("div",{class:"text-4xl"},"Related Ads",-1);function j(e,t){const s=f("v-title"),r=f("ItemsOnly");return e.item._id?(i(),v("div",S,[d("div",B,[d("div",D,[e.mobileSize?(i(),l(_,{key:0,class:"bg-white rounded-md",width:"300",src:e.getImg(),cover:""},null,8,["src"])):(i(),l(_,{key:1,class:"bg-white rounded-md",width:"500",src:e.getImg(),cover:""},null,8,["src"])),e.item.postedBy.order===1?(i(),l(u,{key:2,class:"absolute top-0 right-0"},{default:a(()=>[o(s,{class:"rounded-pill text-white p-2 text-xs bg-gray-500",color:"red-accent-2"},{default:a(()=>[o(n,null,{default:a(()=>[c("mdi-eye")]),_:1})]),_:1})]),_:1})):m("",!0),e.item.postedBy.order===2?(i(),l(u,{key:3,class:"absolute top-0 right-0"},{default:a(()=>[o(s,{class:"rounded-pill text-white px-3 py-3 text-sm bg-indigo-400",color:"red-accent-2"},{default:a(()=>[o(n,null,{default:a(()=>[c("mdi-heart")]),_:1})]),_:1})]),_:1})):m("",!0),e.item.postedBy.order===3?(i(),l(u,{key:4,"prepend-icon":"mdi-folder",class:"absolute top-0 right-0"},{default:a(()=>[o(s,{class:"rounded-circle text-white px-2 py-3 text-md bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300",color:"red-accent-2"},{default:a(()=>[o(n,null,{default:a(()=>[c("mdi-diamond")]),_:1})]),_:1})]),_:1})):m("",!0)]),d("div",V,w(e.item.postedBy),1)]),d("div",C,[$,o(r)])])):m("",!0)}const E=b(x,[["render",j]]);export{E as default};

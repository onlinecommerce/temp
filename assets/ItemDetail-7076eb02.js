import{B as g,aO as h,D as p,C as I,_ as v,at as b,z as d,n as l,q as a,y as m,au as w,h as r,l as i,t as n,v as c,as as f}from"./index-7ecd0b76.js";import{I as x}from"./ItemsOnly-d8c75270.js";import{c as y,a as u}from"./VCard-fd5f6a21.js";import"./VBottomNavigation-2e25433c.js";import"./ssrBoot-5800807d.js";import"./index-8cc9b6ec.js";const S={created(){this.getItemDetail(this.$route.params.id)},data(){return{warn:!1,item:{}}},methods:{...g("postItem",["getItems","emptyItems","getLoading"]),...g(["setToastData"]),async getItemDetail(e){let t=this;await h({url:"/item",method:"get",params:{_id:e}}).then(s=>{t.item=s.data.items,t.emptyItems(),this.$route.name==="ItemDetail"&&t.getItems({category:t.item.category,subCategory:t.item.subCategory,name:t.item.name,recommand:!0,itemId:t.item._id})}).catch(s=>{})},getImg(){return this.item.image?this.item.image.url:"/src/assets/faces/ad_1.png"},async deleteAd(){await h({url:"/item",method:"delete",headers:{Authorization:`Bearer ${localStorage.getItem("sheqetoken")}`},params:{itemId:this.item._id,authorization:`Bearer ${localStorage.getItem("sheqetoken")}`}}).then(e=>{e.data.status==="success"&&(router.push("/"),this.setToastData({msg:"Ad deleted successfully!",type:"success",show:!0}))}).catch(e=>{console.log(e)})},prettyPrice(e){if(String(e).length>3){let t=Math.floor(String(e).length/3);t=String(e).length%3?t:t--;let s=[];e=String(e).split("").reverse().join("");for(let o=0;o<t+1;o++){let _=String(e).slice(o*3,3*(o+1)).split("").reverse().join("");s.push(_)}return e=String(e).length%3?s.reverse().join(","):s.reverse().join(",").slice(1),e}else return e},prettyDate(e){return e.split("T")[0].split("-").reverse().join("-")}},watch:{$route(e,t){this.getItemDetail(this.$route.params.id)}},computed:{...p("postItem",["items","by"]),...p("user",["loggedInUser"]),mobileSize(){let{mobile:e}=I();return e.value}},components:{ItemsOnly:x}},k={key:0,class:"bg-slate-100"},B={class:"grid sm:grid-cols-3 md:grid-cols-2 mx-auto gap-1 gap-x-3"},D={class:"border-r-2 p-2 px-10 border-slate-200"},C={class:"p-2"},V={class:"mt-5"},$=d("div",{class:"text-4xl"},"Related Ads",-1);function j(e,t){const s=f("v-title"),o=f("ItemsOnly");return e.item._id?(i(),b("div",k,[d("div",B,[d("div",D,[e.mobileSize?(i(),l(y,{key:0,class:"bg-white rounded-md",width:"300",src:e.getImg(),cover:""},null,8,["src"])):(i(),l(y,{key:1,class:"bg-white rounded-md",width:"500",src:e.getImg(),cover:""},null,8,["src"])),e.item.postedBy.order===1?(i(),l(u,{key:2,class:"absolute top-0 right-0"},{default:a(()=>[r(s,{class:"rounded-pill text-white p-2 text-xs bg-gray-500",color:"red-accent-2"},{default:a(()=>[r(n,null,{default:a(()=>[c("mdi-eye")]),_:1})]),_:1})]),_:1})):m("",!0),e.item.postedBy.order===2?(i(),l(u,{key:3,class:"absolute top-0 right-0"},{default:a(()=>[r(s,{class:"rounded-pill text-white px-3 py-3 text-sm bg-indigo-400",color:"red-accent-2"},{default:a(()=>[r(n,null,{default:a(()=>[c("mdi-heart")]),_:1})]),_:1})]),_:1})):m("",!0),e.item.postedBy.order===3?(i(),l(u,{key:4,"prepend-icon":"mdi-folder",class:"absolute top-0 right-0"},{default:a(()=>[r(s,{class:"rounded-circle text-white px-2 py-3 text-md bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300",color:"red-accent-2"},{default:a(()=>[r(n,null,{default:a(()=>[c("mdi-diamond")]),_:1})]),_:1})]),_:1})):m("",!0)]),d("div",C,w(e.item.postedBy),1)]),d("div",V,[$,r(o)])])):m("",!0)}const E=v(S,[["render",j]]);export{E as default};
